//     jquery-meta-data
//     (c) simonfan
//     jquery-meta-data is licensed under the MIT terms.

//     jquery-pump
//     (c) simonfan
//     jquery-pump is licensed under the MIT terms.

define("__jquery-meta-data/helpers",["require","exports","module","jquery","lodash"],function(e,t){e("jquery"),e("lodash"),t.buildPrefixRegExp=function(e){return new RegExp("^"+e+"([A-Z$_].*$)")},t.lowercaseFirst=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.uppercaseFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.fullKey=function(e,r){return e?e+t.uppercaseFirst(r):r}}),define("__jquery-meta-data/read",["require","exports","module","lodash","./helpers"],function(e,t){function r(e){return e}var a=e("lodash"),i=e("./helpers");t.all=function(e,t){var u=e.data(),n=t.parse||r;if(t.prefix){var s=i.buildPrefixRegExp(t.prefix);return a.transform(u,function(r,a,u){var p=u.match(s);if(p){var o=i.lowercaseFirst(p[1]);a=n(a,o,u),t.replace&&e.data(u,a),r[o]=a}})}return a.mapValues(u,function(e,t){return n(e,t,t)})},t.single=function(e,t,r){var a=i.fullKey(t.prefix,r),u=e.data(a);return t.parse&&(u=t.parse(u,r,a),t.replace&&e.data(a,u)),u}}),define("__jquery-meta-data/set",["require","exports","module","lodash","./helpers"],function(e,t){var r=e("lodash"),a=e("./helpers");t.single=function(e,t,r,i){var u=a.fullKey(t.prefix,r);i=t.stringify?t.stringify(i,r,u):i,e.data(u,i)},t.multiple=function(e,a,i){r.each(i,function(r,i){t.single(e,a,i,r)})}}),define("jquery-meta-data",["require","exports","module","jquery","lodash","./__jquery-meta-data/read","./__jquery-meta-data/set"],function(e){var t=e("jquery"),r=e("lodash"),a=e("./__jquery-meta-data/read"),i=e("./__jquery-meta-data/set"),u={};t.metaData=function(){r.isObject(arguments[0])?r.assign(u,arguments[0]):u[arguments[0]]=arguments[1]},t.prototype.metaData=function(e){return e=r.isString(e)?u[e]:e,1===arguments.length?a.all(this,e):2!==arguments.length?(i.single(this,e,arguments[1],arguments[2]),this):r.isString(arguments[1])?a.single(this,e,arguments[1]):r.isObject(arguments[1])?(i.multiple(this,e,arguments[1]),this):void 0}}),define("__jquery-pump/parse",["require","exports","module","jquery"],function(e,t){function r(e){var t=e.split(i),r=t.shift();return{method:r,args:t}}function a(e){var t=e.match(u);return{selector:t[1],methodString:t[2]}}var i=(e("jquery"),/\s*:\s*/g);t.methodString=r;var u=/(?:(.+?)\s*\|)?\s*(.+)\s*/;t.destProp=a}),define("__jquery-pump/build-pipes",["require","exports","module","jquery","lodash","./parse"],function(e,t,r){function a(e,t){var r=this.generatePipeId(t);t.data(this.pipeIdDataAttribute,r);var a=this.pipe(r,e).to(t);return a}var i=e("jquery"),u=e("lodash"),n=e("./parse");r.exports=function(e,t){u.each(e,function(e){var r=i(e),s={},p=r.metaData(t);u.each(p,function(e,t){u.each(e,function(e){var i=n.destProp(e);if(i.selector){var u=r.find(i.selector),p={};p[t]=i.methodString,a.call(this,p,u)}else s[t]?s[t].push(e):s[t]=[e]},this)},this),a.call(this,s,r)},this)}}),define("__jquery-pump/getter-setter",["require","exports","module","jquery","./parse"],function(e,t){var r=(e("jquery"),e("./parse"));t.destGet=function(e,t){{var a=r.methodString(t);a.args}return e[a.method].apply(e,a.args)},t.destSet=function(e,t,a){var i=r.methodString(t),u=i.args;return u.push(a),e[i.method].apply(e,u)}}),define("__jquery-pump/id",["require","exports","module"],function(e,t){t.generatePipeId=function(){return _.uniqueId(this.pipeIdDataAttribute)},t.pipeIdDataAttribute="jq-pipe-id"}),define("jquery-pump",["require","exports","module","pump","jquery","jquery-meta-data","lodash","./__jquery-pump/build-pipes","./__jquery-pump/getter-setter","./__jquery-pump/id"],function(e,t,r){var a=e("pump"),i=e("jquery"),u=(e("jquery-meta-data"),e("lodash")),n=e("./__jquery-pump/build-pipes"),s=r.exports=a.extend({initialize:function(e,t){t=t||{};var r=t.destination;u.defaults(t,this.metaDataOptions),u.defaults(t,{prefix:this.prefix}),a.prototype.initialize.call(this,e),n.call(this,r,t)},prefix:"pipe",metaDataOptions:{parse:function(e){return e.split(/\s*,\s*/g)}},drain:function(e,t,r){return e=e instanceof i?e.data(this.pipeIdDataAttribute):e,a.prototype.drain.call(this,e,t,r)}});s.assignProto(e("./__jquery-pump/getter-setter")).assignProto(e("./__jquery-pump/id")),i.prototype.pump=function(e,t){return t=t||{},t.destination=this,s(e,t)}});