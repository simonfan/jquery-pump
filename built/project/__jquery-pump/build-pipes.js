define(["require","exports","module","jquery","lodash","./parse"],function(e,t,n){function o(e,t){var n=this.generatePipeId(t);t.data(this.pipeIdDataAttribute,n);var r=this.pipe(n,e).to(t);return r}var r=e("jquery"),i=e("lodash"),s=e("./parse");n.exports=function(t,n){i.each(t,function(e){var t=r(e),u={},a=t.metaData(n);i.each(a,function(e,n){i.each(e,function(e){var r=s.destProp(e);if(r.selector){var i=t.find(r.selector),a={};a[n]=r.methodString,o.call(this,a,i)}else u[n]?u[n].push(e):u[n]=[e]},this)},this),o.call(this,u,t)},this)}});